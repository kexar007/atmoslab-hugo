{{ define "main" }}

<div class="container" id="outreach">
  <section class="hero-section">
    
      <h1 class="hero-title">Outreach</h1>
    
  </section>
  
  
     {{ $images := resources.Match "images/outreach/*" }}
     {{/* Create a slice with image and its numeric value */}}
        {{ $imageData := slice }}
        {{ range $images }}
          {{ $filename := .Name }}
          {{ $number := 0 }}
          
          {{/* Extract number from filename using regex */}}
          {{ with (findRE "[0-9]+" $filename 1) }}
            {{ $number = (index . 0) | int }}
          {{ end }}
          
          {{ $imageData = $imageData | append (dict "image" . "number" $number) }}
        {{ end }}
        
        {{/* Sort by number in descending order and render */}}
    
      <div class="slider-section">
      <div class="slider-outreach"> 
        <div class="image-slide">

        {{ range first 3 (sort $imageData "number" "desc") }}

          
            <img id="{{ printf "img-%d" .number }}" src="{{ .image.RelPermalink }}" alt="Outreach image" loading="lazy">
                  
        {{ end }}
        </div> 
        <div class="thumb">

        {{ range first 3 (sort $imageData "number" "desc") }}

         
            <a href="#{{ printf "img-%d" .number }}">
              <img src="{{ .image.RelPermalink }}" alt="Outreach thumbnail" loading="lazy">
          
        {{ end }}
        </div>

      </div>
      </div>

      
      
      <!-- Simple Outreach Gallery with Numeric Sorting -->
      <div class="outreach-gallery">
       
        
        
        {{ range sort $imageData "number" "desc" }}
          <img src="{{ .image.RelPermalink }}" alt="Outreach image" loading="lazy">
        {{ end }}
      </div>
    
  
</div>

<!-- Include minimal CSS for gallery -->
{{ $css := resources.Get "css/outreach-gallery.css" }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}">

{{ end }}
